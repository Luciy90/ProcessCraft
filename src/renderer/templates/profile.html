<!-- Profile page template aligned with design/kabinet_login2.html -->
<section class="space-y-4 lg:space-y-6">
  <!-- Profile header (cover + avatar + name) -->
  <section class="rounded-xl border border-white/10 bg-neutral-900/40 overflow-hidden" style="animation: scaleIn .5s ease .08s both">
    <div class="relative h-44 md:h-56 lg:h-64">
      <img id="coverImage" src="{{COVER_IMAGE_SRC}}" class="h-full w-full object-cover opacity-70" alt="cover">
      <div class="absolute inset-0 bg-gradient-to-t from-neutral-950/70 via-neutral-950/20 to-transparent"></div>
      <div class="absolute top-3 right-3 flex items-center gap-2">
        <label for="coverInput" class="h-9 px-3 rounded-lg border border-white/10 bg-white/10 hover:bg-white/15 backdrop-blur text-sm flex items-center gap-1.5 cursor-pointer">
          <svg data-lucide="image-up" class="h-4 w-4"></svg>
          {{UI_CONFIG.texts.profile.header.cover.change_background_button}}
        </label>
      </div>
      <input id="coverInput" type="file" accept="image/*" class="hidden">
    </div>
    <div class="p-4 md:p-5">
      <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4">
        <div class="flex items-end gap-4">
          <div class="relative -mt-16">
            <div class="h-24 w-24 md:h-28 md:w-28 rounded-xl overflow-hidden border-2 border-white/10 shadow-lg shadow-black/40 grid place-items-center bg-white/[0.02]">
              {{AVATAR_HTML}}
            </div>
            <label for="avatarInput" class="absolute -bottom-2 -right-2 h-9 w-9 grid place-items-center rounded-lg border border-white/10 bg-white/10 hover:bg-white/15 backdrop-blur cursor-pointer">
              <svg data-lucide="upload" class="h-4 w-4"></svg>
            </label>
            <input id="avatarInput" type="file" accept="image/*" class="hidden">
          </div>
          <div>
            <div class="text-xl md:text-2xl font-semibold tracking-tight">{{DISPLAY_NAME}}</div>
            <div class="text-sm text-white/70">{{ROLE}}</div>
          </div>
        </div>
        {{ADMIN_ACTIONS_CARD}}
      </div>
    </div>
  </section>

  <!-- Main content grid: Tasks + Visits (left), User info + Activity (right) -->
  <section class="grid grid-cols-1 xl:grid-cols-3 gap-4 lg:gap-6">
    <div class="xl:col-span-2 space-y-4" style="animation: fadeUp .6s ease .1s both">
      <!-- Tasks table (static sample like design) -->
      <div class="rounded-xl border border-white/10 bg-neutral-900/40 backdrop-blur p-4 flex flex-col">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
          <div>
            <h2 class="text-lg font-semibold">Текущие задачи</h2>
            <p class="text-sm text-white/60">Активные поручения</p>
          </div>
          <div class="flex items-center gap-2">
            <button class="px-3 py-1.5 rounded-lg border border-white/10 bg-white/[0.06] text-sm text-white">Все</button>
            <button class="px-3 py-1.5 rounded-lg border border-white/10 hover:bg-white/5 text-sm text-white/80">В работе</button>
            <button class="px-3 py-1.5 rounded-lg border border-rose-500/30 hover:border-rose-500/50 hover:bg-rose-500/10 text-sm text-rose-200/80">
              <div class="flex items-center gap-1.5">
                <svg data-lucide="alert-triangle" class="h-4 w-4"></svg>
                Просрочено
              </div>
            </button>
          </div>
        </div>
        <div class="mt-3 rounded-lg border border-white/10 overflow-hidden w-full">
          <div class="grid grid-cols-12 bg-gradient-to-b from-white/[0.04] to-white/[0.02] text-xs text-white/60 w-full">
            <div class="col-span-6 px-3 py-2">Задача</div>
            <div class="col-span-3 px-3 py-2">Дедлайн</div>
            <div class="col-span-2 px-3 py-2">Статус</div>
            <div class="col-span-1 px-3 py-2 text-right">Приоритет</div>
          </div>
          <div class="max-h-[28rem] overflow-y-auto overflow-x-hidden w-full [scrollbar-color:rgba(255,255,255,0.25)_transparent]">
            <div class="divide-y divide-white/10 text-sm">
              <div class="grid grid-cols-12 hover:bg-white/[0.03] min-w-0" data-status="in-progress" data-priority="medium" data-state="due-soon">
                <div class="col-span-6 px-3 py-2 min-w-0">
                  <div class="font-medium truncate">Подготовить ТУ для партии AL-305</div>
                  <div class="text-xs text-white/50 truncate">Документы • Технологи</div>
                </div>
                <div class="col-span-3 px-3 py-2">
                  <div>02.09.2025</div>
                  <div class="text-[11px] text-white/50">через 4 дня</div>
                </div>
                <div class="col-span-2 px-3 py-2">
                  <span class="text-xs px-2 py-1 rounded border border-emerald-400/40 text-emerald-200/90">В работе</span>
                </div>
                <div class="col-span-1 px-3 py-2 text-right">
                  <span class="text-xs px-2 py-1 rounded border border-white/20 text-white/70">Средн.</span>
                </div>
              </div>
              <div class="grid grid-cols-12 hover:bg-white/[0.03] min-w-0" data-status="overdue" data-priority="high" data-state="overdue">
                <div class="col-span-6 px-3 py-2 min-w-0">
                  <div class="font-medium truncate">Согласовать КД v3 «Стакан литниковый»</div>
                  <div class="text-xs text-white/50 truncate">КД • Конструкторы</div>
                </div>
                <div class="col-span-3 px-3 py-2">
                  <div>31.08.2025</div>
                  <div class="text-[11px] text-rose-300/80">просрочено на 1 д.</div>
                </div>
                <div class="col-span-2 px-3 py-2">
                  <span class="text-xs px-2 py-1 rounded border border-rose-400/40 text-rose-200/90">Просрочено</span>
                </div>
                <div class="col-span-1 px-3 py-2 text-right">
                  <span class="text-xs px-2 py-1 rounded border border-rose-400/40 text-rose-200/90">Высок.</span>
                </div>
              </div>
              <div class="grid grid-cols-12 hover:bg-white/[0.03] min-w-0" data-status="pending" data-priority="medium" data-state="today">
                <div class="col-span-6 px-3 py-2 min-w-0">
                  <div class="font-medium truncate">Проверить аномалию температуры печи</div>
                  <div class="text-xs text-white/50 truncate">РММ • Диагностика</div>
                </div>
                <div class="col-span-3 px-3 py-2">
                  <div>Сегодня</div>
                  <div class="text-[11px] text-white/50">до 17:00</div>
                </div>
                <div class="col-span-2 px-3 py-2">
                  <span class="text-xs px-2 py-1 rounded border border-amber-400/40 text-amber-100/90">Ожидает</span>
                </div>
                <div class="col-span-1 px-3 py-2 text-right">
                  <span class="text-xs px-2 py-1 rounded border border-white/20 text-white/70">Средн.</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Attendance heatmap (static like design) -->
      <div class="rounded-xl border border-white/10 bg-neutral-900/40 backdrop-blur p-4" style="animation: fadeUp .6s ease .14s both">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">Посещения</h2>
            <p class="text-sm text-white/60">Приход и уход по дням</p>
          </div>
          <div class="flex items-center gap-2">
            <div class="flex items-center gap-1 text-[11px] text-white/60"><span class="h-3 w-3 rounded bg-emerald-500/70 border border-emerald-300/40"></span> вовремя</div>
            <div class="flex items-center gap-1 text-[11px] text-white/60"><span class="h-3 w-3 rounded bg-fuchsia-500/70 border border-fuchsia-300/40"></span> задержался</div>
            <div class="flex items-center gap-1 text-[11px] text-white/60"><span class="h-3 w-3 rounded bg-amber-500/70 border border-amber-300/40"></span> опоздал</div>
            <div class="flex items-center gap-1 text-[11px] text-white/60"><span class="h-3 w-3 rounded bg-rose-500/70 border border-rose-300/40"></span> отсутствовал</div>
            <div class="flex items-center gap-1 text-[11px] text-white/60"><span class="h-3 w-3 rounded bg-neutral-700 border border-white/10"></span> выходной</div>
          </div>
        </div>
        <div class="mt-4 overflow-x-auto">
          <div class="inline-grid grid-cols-[auto,1fr] gap-2">
            <div class="grid grid-rows-7 gap-1 pt-4 pr-1">
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Пн</div>
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Вт</div>
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Ср</div>
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Чт</div>
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Пт</div>
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Сб</div>
              <div class="h-4 text-[11px] text-white/50 flex items-center justify-end pr-1">Вс</div>
            </div>
            <div class="grid grid-flow-col auto-cols-max gap-1">
              <!-- Week 1 -->
              <div class="grid grid-rows-7 gap-1">
                <div class="h-4 w-4 rounded bg-rose-500/70 border border-rose-300/40"></div>
                <div class="h-4 w-4 rounded bg-amber-500/70 border border-amber-300/40"></div>
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-fuchsia-500/70 border border-fuchsia-300/40"></div>
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-neutral-700 border border-white/10"></div>
                <div class="h-4 w-4 rounded bg-neutral-700 border border-white/10"></div>
              </div>
              <!-- Week 2 -->
              <div class="grid grid-rows-7 gap-1">
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-amber-500/70 border border-amber-300/40"></div>
                <div class="h-4 w-4 rounded bg-fuchsia-500/70 border border-fuchsia-300/40"></div>
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-neutral-700 border border-white/10"></div>
                <div class="h-4 w-4 rounded bg-neutral-700 border border-white/10"></div>
              </div>
              <!-- Week 3 -->
              <div class="grid grid-rows-7 gap-1">
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-rose-500/70 border border-rose-300/40"></div>
                <div class="h-4 w-4 rounded bg-amber-500/70 border border-amber-300/40"></div>
                <div class="h-4 w-4 rounded bg-emerald-500/70 border border-emerald-300/40"></div>
                <div class="h-4 w-4 rounded bg-neutral-700 border border-white/10"></div>
                <div class="h-4 w-4 rounded bg-neutral-700 border border-white/10"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right column -->
    <div class="space-y-4" style="animation: fadeUp .6s ease .12s both">
      <!-- User info -->
      <div class="rounded-xl border border-white/10 bg-neutral-900/40 backdrop-blur p-4">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">{{UI_CONFIG.texts.profile.userInfo.title}}</h2>
            <p class="text-sm text-white/60">{{UI_CONFIG.texts.profile.userInfo.description}}</p>
          </div>
          <button id="btnCopyEmail" class="h-9 px-3 rounded-lg border border-white/10 hover:bg-white/5 text-sm transition-all duration-200 flex items-center gap-1.5">
            <svg data-lucide="copy" class="h-4 w-4"></svg>
            {{UI_CONFIG.texts.profile.userInfo.copy_email_button}}
          </button>
        </div>
        <div class="mt-3 grid grid-cols-1 gap-3">
          <div class="rounded-lg border border-white/10 bg-white/[0.02] p-3">
            <div class="text-[11px] text-white/60">{{UI_CONFIG.texts.profile.userInfo.fields.email_label}}</div>
            <div id="info-email" class="text-sm font-medium">{{UI_CONFIG.texts.profile.userInfo.fields.placeholder}}</div>
          </div>
          <div class="rounded-lg border border-white/10 bg-white/[0.02] p-3">
            <div class="text-[11px] text-white/60">{{UI_CONFIG.texts.profile.userInfo.fields.phone_label}}</div>
            <div id="info-phone" class="text-sm font-medium">{{UI_CONFIG.texts.profile.userInfo.fields.placeholder}}</div>
          </div>
          <div class="rounded-lg border border-white/10 bg-white/[0.02] p-3">
            <div class="text-[11px] text-white/60">{{UI_CONFIG.texts.profile.userInfo.fields.position_label}}</div>
            <div id="info-position" class="text-sm font-medium">{{UI_CONFIG.texts.profile.userInfo.fields.placeholder}}</div>
          </div>
          <div class="rounded-lg border border-white/10 bg-white/[0.02] p-3">
            <div class="text-[11px] text-white/60">{{UI_CONFIG.texts.profile.userInfo.fields.department_label}}</div>
            <div id="info-department" class="text-sm font-medium">{{UI_CONFIG.texts.profile.userInfo.fields.placeholder}}</div>
          </div>
        </div>
      </div>

      <!-- App activity -->
      <div class="rounded-xl border border-white/10 bg-neutral-900/40 backdrop-blur p-4">
        <div class="flex items-center justify-between">
          <div>
            <h2 class="text-lg font-semibold">Активность в приложении</h2>
            <p class="text-sm text-white/60">Последние действия</p>
          </div>
        </div>
        <div class="mt-3 space-y-2">
          <div class="flex items-center gap-3">
            <div class="text-xs text-white/50 w-8 shrink-0 text-center">Пн</div>
            <div class="flex-1 h-3 rounded bg-white/10 relative group">
              <div class="absolute inset-y-0 left-0 bg-emerald-400/60 rounded" style="width: 60%;"></div>
              <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-[11px] text-white/70 opacity-0 group-hover:opacity-100 transition">25.08.2025</span>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <div class="text-xs text-white/50 w-8 shrink-0 text-center">Вт</div>
            <div class="flex-1 h-3 rounded bg-white/10 relative group">
              <div class="absolute inset-y-0 left-0 bg-emerald-400/60 rounded" style="width: 80%;"></div>
              <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-[11px] text-white/70 opacity-0 group-hover:opacity-100 transition">26.08.2025</span>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <div class="text-xs text-white/50 w-8 shrink-0 text-center">Ср</div>
            <div class="flex-1 h-3 rounded bg-white/10 relative group">
              <div class="absolute inset-y-0 left-0 bg-emerald-400/60 rounded" style="width: 30%;"></div>
              <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-[11px] text-white/70 opacity-0 group-hover:opacity-100 transition">27.08.2025</span>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <div class="text-xs text-white/50 w-8 shrink-0 text-center">Чт</div>
            <div class="flex-1 h-3 rounded bg-white/10 relative group">
              <div class="absolute inset-y-0 left-0 bg-emerald-400/60 rounded" style="width: 50%;"></div>
              <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-[11px] text-white/70 opacity-0 group-hover:opacity-100 transition">28.08.2025</span>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <div class="text-xs text-white/50 w-8 shrink-0 text-center">Пт</div>
            <div class="flex-1 h-3 rounded bg-white/10 relative group">
              <div class="absolute inset-y-0 left-0 bg-emerald-400/60 rounded" style="width: 90%;"></div>
              <span class="absolute -top-6 left-1/2 -translate-x-1/2 text-[11px] text-white/70 opacity-0 group-hover:opacity-100 transition">29.08.2025</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>
